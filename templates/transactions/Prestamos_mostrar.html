{% extends 'core/base.html' %}

{% block head_title %}Nuevo Préstamo{% endblock %}



{% block content %}
    <h1 class="font-mono font-bold text-3xl text-center pb-5 pt-10">Nuevo Préstamo</h1>
    <hr />

        <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="amount">
                Cliente: {{Cliente}}
            </label>
            <label class="block text-gray-700 text-sm font-bold mb-2" for="amount">
                Identidad: {{ Identidad }}
            </label>
            <label class="block text-gray-700 text-sm font-bold mb-2" for="amount">
                Fecha Otorgado: {{ Fecha_O }}
            </label>

            <label class="block text-gray-700 text-sm font-bold mb-2" for="amount">
                Fecha Primera Cuota: {{ Fecha_P }}
            </label>


            <label class="block text-gray-700 text-sm font-bold mb-2" for="amount">
                Plazo en Meses: {{ Plazo }}
            </label>

            <label class="block text-gray-700 text-sm font-bold mb-2" for="amount">
                Taza de Interes Anual: {{ Tanual }}
            </label>

            <label class="block text-gray-700 text-sm font-bold mb-2" for="amount">
                Taza de Interes Mensual: {{ Tmensual }}
            </label>

            <label class="block text-gray-700 text-sm font-bold mb-2" for="amount">
                Periodo de Gracia: {{ Pgracia }}
            </label>

            <label class="block text-gray-700 text-sm font-bold mb-2" for="amount">
               Tasa de Descuento: {{ Descuento }}
            </label>

            <label class="block text-gray-700 text-sm font-bold mb-2" for="amount">
               Monto: {{ Monto }}
            </label>
            <label class="block text-gray-700 text-sm font-bold mb-2" for="amount">
               Recago por Mora: {{ Mora }}
            </label>
        </div>
        {% if messages %}
            <ul class="messages">
            {% for message in messages %}
                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
            {% endfor %}
            </ul>
        {% endif %}
        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
            Calcular
        </button>

    <table class="table-auto mx-auto w-full mt-8">
        <thead class="bg-gray-800 text-white">
        <tr class="uppercase font-semibold text-sm">
            <th class="px-4 py-2">Núm Cuota</th>
            <th class="px-4 py-2">Fecha de Pago</th>
            <th class="px-4 py-2">Capital</th>
            <th class="px-4 py-2">Intereses</th>
            <th class="px-4 py-2">Saldo</th>
        </tr>
        </thead>
        <tbody>
        {% for transaction in object_list %}
        <tr class="{% cycle 'bg-gray-300' 'bg-white-100' %}">
            <td class="border px-4 py-2 text-center">{{ transaction.get_transaction_type_display }}</td>
            <td class="border px-4 py-2 text-center">{{ transaction.timestamp }}</td>
            <td class="border px-4 py-2 text-center">$ {{ transaction.amount }}</td>
            <td class="border px-4 py-2 text-center">$ {{ transaction.balance_after_transaction }}</td>
        </tr>
        {% endfor %}
        <tr class="bg-gray-600 text-white">
            <th class="px-4 py-2 text-right" colspan="3">Final Balance</th>
            <th class="px-4 py-2 text-center">$ {{ account.balance }}</th>
        </tr>
        </tbody>
    </table>
{% endblock %}


